QUERY1:DISPLAY NUMBER OF JOBS DONE BY EMPLOYEE_ID AND CURRENT SALARY OF 114 AND ALSO DISPLAY THE NEW SALARY FOR THE USER WHICH IS:
SALARY+ (10* NO. OF JOBS )%

SET SERVEROUTPUT ON

DECLARE 

V_COUNT NUMBER(2);
V_SALARY     EMPLOYEES.SALARY%TYPE;
V_NEW_SALARY EMPLOYEES.SALARY%TYPE;
EMPID CONSTANT NUMBER(5):= 114; 

BEGIN
--GET JOB HISTORY COUNT

SELECT COUNT(*) INTO V_COUNT
FROM JOB_HISTORY
WHERE EMPLOYEE_ID=EMPID;

SELECT SALARY INTO V_SALARY 
FROM EMPLOYEES
WHERE EMPLOYEE_ID=EMPID;

--CALCULATE NEW SALARY

V_NEW_SALARY := V_SALARY + (V_SALARY * (V_COUNT * 10)/100);

DBMS_OUTPUT.PUT_LINE('JOB HISTORY COUNT : ' ||V_COUNT);

DBMS_OUTPUT.PUT_LINE('CURRENT SALARY    : ' ||V_SALARY);

DBMS_OUTPUT.PUT_LINE('NEW SALARY        : ' ||V_NEW_SALARY);

END;



OUTPUT:

PL/SQL procedure successfully completed.

JOB HISTORY COUNT : 1
CURRENT SALARY    : 11000
NEW SALARY        : 12100

11:00 PM 13-Mar-16

QUERY2:-INSERT A NEW ROW INTO JOBS TABLE WWITH THE FOLLOWING DETAILS:
JOB_ID :-IT_ADM;JOB_TITLE:-ADMINISTRATOR;MIN_SALARY:-IS EITHER AVERAGE SALARY OF IT_PROG OR MINIMUM SALARY OF SA_MAN
WHICHEVER IS HIGHER AND MAX_SALARY:-MAXIMUM SALARY OF JOB_ID'S THAT CONTAIN MAN.

SET SERVEROUTPUT ON

DECLARE

V_AVG_MINSALARY JOBS.MIN_SALARY%TYPE;
V_MINSALARY JOBS.MIN_SALARY%TYPE;
V_MAX_SALARY JOBS.MAX_SALARY%TYPE;
V_JOB_ID JOBS.JOB_ID%TYPE;
V_JOB_TITLE JOBS.JOB_TITLE%TYPE;

BEGIN

--TO GET AVERGE OF MIN_SALARY
SELECT avg(SALARY) INTO V_AVG_MINSALARY
FROM employees
WHERE JOB_ID = 'IT_PROG';

SELECT ( MIN_SALARY) INTO  V_MINSALARY
FROM JOBS
WHERE JOB_ID = 'SA_MAN';

SELECT MAX(MAX_SALARY) INTO V_MAX_SALARY
FROM JOBS
WHERE JOB_ID LIKE '%_MAN';

--UPDATING MIN_SALARY INTO IT_ADM IN JOBS

UPDATE JOBS SET MIN_SALARY=GREATEST(V_AVG_MINSALARY,V_MINSALARY)
WHERE JOB_ID='IT-ADM';


UPDATE  JOBS SET MAX_SALARY= V_MAX_SALARY
WHERE JOB_ID='IT_ADM';

dbms_output.put_line('The MAXIMUM Salary of IT_ADM is: ' || V_MAX_SALARY);

dbms_output.put_line('The MINIMUM Salary of IT_ADM is: ' || V_MINSALARY);

INSERT INTO JOBS VALUES ('IT_ADM','ADMINISTRATOR',V_MAX_SALARY,V_MINSALARY);

END;

OUTPUT:

PL/SQL procedure successfully completed

The MAXIMUM Salary of IT_ADM is: 20080
The MINIMUM Salary of IT_ADM is: 10000

select *FROM JOBS
WHERE JOB_ID = 'IT_ADM'

OUTPUT:

IT_ADM	ADMINISTRATOR	20080	10000
